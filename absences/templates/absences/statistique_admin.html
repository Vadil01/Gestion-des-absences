{% extends "absences/base_admin.html" %}

{% block title %}Statistiques Administrateur{% endblock %}

{% block content %}

<div class="container-fluid mt-4">

    <h3 class="mb-4 fw-bold text-primary">
        <i class="bi bi-graph-up-arrow me-2"></i>
        Statistiques des Absences Ã‰tudiants â€“ Des Infos Claires et Amusantes ! ðŸŽ‰
    </h3>

    <!-- ===================== -->
    <!-- ðŸ“… ABSENCES PAR JOUR -->
    <!-- ===================== -->
    <div class="card shadow-lg mb-5 border-0 rounded-3">
        <div class="card-header fw-bold bg-primary text-white">
            <i class="bi bi-calendar-event me-2"></i>
            Absences par Jour â€“ Le Quotidien en Chiffres !
        </div>
        <div class="card-body table-responsive">
            <table class="table table-striped table-hover table-bordered align-middle">
                <thead class="table-dark text-center">
                    <tr>
                        <th>Date</th>
                        <th>Total Absences</th>
                    </tr>
                </thead>
                <tbody>
                    {% for j in stats_jour %}
                    <tr class="text-center">
                        <td>{{ j.0 }}</td>
                        <td class="fw-bold text-primary">{{ j.1 }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="2" class="text-center text-muted fs-5">
                            Aucune donnÃ©e... Les Ã©tudiants Ã©taient tous au top ? ðŸ˜Ž
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- ===================== -->
    <!-- ðŸ—“ï¸ ABSENCES PAR MOIS -->
    <!-- ===================== -->
    <div class="card shadow-lg mb-5 border-0 rounded-3">
        <div class="card-header fw-bold bg-success text-white">
            <i class="bi bi-calendar3 me-2"></i>
            Absences par Mois â€“ Un Tour d'Horizon Mensuel !
        </div>
        <div class="card-body table-responsive">
            <table class="table table-striped table-hover table-bordered align-middle">
                <thead class="table-dark text-center">
                    <tr>
                        <th>Mois</th>
                        <th>Total Absences</th>
                    </tr>
                </thead>
                <tbody>
                    {% for m in stats_mois %}
                    <tr class="text-center">
                        <td>{{ m.0 }}</td>
                        <td class="fw-bold text-success">{{ m.1 }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="2" class="text-center text-muted fs-5">
                            Aucune donnÃ©e... Un mois sans faille ? ðŸŒŸ
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- ============================= -->
    <!-- ðŸŽ“ ABSENCES PAR ANNÃ‰E UNIV -->
    <!-- ============================= -->
    <div class="card shadow-lg mb-5 border-0 rounded-3">
        <div class="card-header fw-bold bg-info text-white">
            <i class="bi bi-mortarboard-fill me-2"></i>
            Absences par AnnÃ©e Universitaire â€“ L'Ã‰popÃ©e Annuelle !
        </div>
        <div class="card-body table-responsive">
            <table class="table table-striped table-hover table-bordered align-middle">
                <thead class="table-dark text-center">
                    <tr>
                        <th>AnnÃ©e Universitaire</th>
                        <th>Total Absences</th>
                    </tr>
                </thead>
                <tbody>
                    {% for a in stats_annee %}
                    <tr class="text-center">
                        <td>{{ a.0 }}</td>
                        <td class="fw-bold text-info">{{ a.1 }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="2" class="text-center text-muted fs-5">
                            Aucune donnÃ©e... Une annÃ©e modÃ¨le ? ðŸ“š
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- =========================== -->
    <!-- ðŸ“š ABSENCES PAR MATIÃˆRE -->
    <!-- =========================== -->
    <div class="card shadow-lg mb-5 border-0 rounded-3">
        <div class="card-header fw-bold bg-warning text-dark">
            <i class="bi bi-book-fill me-2"></i>
            Absences par MatiÃ¨re â€“ Les Stars et les FantÃ´mes !
        </div>
        <div class="card-body table-responsive">
            <table class="table table-striped table-hover table-bordered align-middle">
                <thead class="table-dark text-center">
                    <tr>
                        <th>MatiÃ¨re</th>
                        <th>Total Absences</th>
                    </tr>
                </thead>
                <tbody>
                    {% for mat in stats_matiere %}
                    <tr class="text-center">
                        <td>{{ mat.0 }}</td>
                        <td class="fw-bold text-warning">{{ mat.1 }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="2" class="text-center text-muted fs-5">
                            Aucune donnÃ©e... Tout roule ? ðŸ˜‰
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

</div>

{% endblock %}